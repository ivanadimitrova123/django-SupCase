<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <title>SupCase</title>
    <link rel="icon" type="image/x-icon" href="https://freepngimg.com/download/phone_case/33082-2-phone-case-photos.png">
    <style>
        button:hover{
            color: white!important;
        }
         body {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>
<div class="container justify-content-center mt-5">
{% include 'header.html' %}<hr>
    <h3 class="mt-5 mb-3">Please leave us information for delivery</h3>
    <form method="POST" action="{% url 'checkout' %}">
      {% csrf_token %}
        {{ form.errors }}
      <div class="mb-3">
        {{ form.counrty.label_tag }}
        {{ form.counrty }}
      </div>

      <div class="mb-3">
        {{ form.city_postal.label_tag }}
        {{ form.city_postal }}
      </div>

      <div class="mb-3">
        {{ form.shipping_address.label_tag }}
        {{ form.shipping_address }}
      </div>

      <div class="mb-3">
        {{ form.phone_number.label_tag }}
        {{ form.phone_number }}
      </div>
      <div class="mb-3">
        {{ form.pay_with_card }}
        {{ form.pay_with_card.label_tag }}
        <p>You can unselect this to <strong>pay on delivery!</strong></p>
      </div>

        <div class="mb-3 ">
            <span>Card number: </span><input type="text" class="mt-4" id="card_number" ><br>
            <span>Expiration date: </span><input type="text" class="mt-4" id="ex_date"><br>
            <span>CVV: </span><input type="text" class="mt-4" id="cvv"><br>
      </div>
      <button type="submit" class="btn rounded-pill px-3 py-1 fw-bold fs-5"  style="background-color: indianred">Place Order</button>
    </form>

</div>

</body>

<script>
  var payWithCardInput = document.querySelector('#id_pay_with_card');
  var cardNumberInput = document.querySelector('#card_number');
  var expirationDateInput = document.querySelector('#ex_date');
  var cvvInput = document.querySelector('#cvv');

  // Function to toggle the required attribute
  function toggleRequiredAttribute() {
    if (payWithCardInput.checked) {
      cardNumberInput.required = true;
      expirationDateInput.required = true;
      cvvInput.required = true;
    } else {
      cardNumberInput.required = false;
      expirationDateInput.required = false;
      cvvInput.required = false;
    }
  }

  // Add event listener to toggle required attribute on change
  payWithCardInput.addEventListener('change', toggleRequiredAttribute);
  // Initial check on page load
  toggleRequiredAttribute();
</script>

</html>